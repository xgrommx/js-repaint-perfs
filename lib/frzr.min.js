!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.frzr=e.frzr||{})}(this,function(e){"use strict";function t(e){return document.createTextNode(e)}function n(e){if(m){var t=m[e];if(t)return t.apply(this,arguments)}for(var n=document.createElement(e),r=1;r<arguments.length;r++){var i=arguments[r];if(null!=i&&!s(n,i)&&"object"==typeof i)for(var o in i){if(g){var u=g[o];if(u){u(n,i[o]);continue}}var l=i[o];"style"===o||null==n[o]&&"function"!=typeof l?n.setAttribute(o,l):n[o]=l}}return n}function r(e,t){m||(m={}),m[e]=t}function i(e,t){g||(g={}),g[e]=t}function o(e){m&&m[e]&&delete m[e]}function u(e){g&&g[e]&&delete g[e]}function l(e){for(var t=document.createElementNS("http://www.w3.org/2000/svg",e),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r&&!s(t,r)&&"object"==typeof r)for(var i in r)t.setAttribute(i,r[i])}return t}function f(e,t,n,r){return new a(e,t,n,r)}function a(e,t,n,r){this.View=e,this.views=[],this.initData=n,this.skipRender=r,t&&(this.key=t,this.lookup={})}function s(e,t,n){var r=e.el||e,i=t.el||t,o=null!=i.parentNode;if(o?t.remounting&&t.remounting():t.mounting&&t.mounting(),i instanceof Node){if(n){var u=n.el||n;r.insertBefore(i,u)}else r.appendChild(i);o?t.remounted&&t.remounted():t.mounted&&t.mounted(),i!==t&&(i.view=t,t.parent=e)}else if("string"==typeof i||"number"==typeof i)s(r,document.createTextNode(i),n);else if(i instanceof Array)for(var l=0;l<i.length;l++)s(r,i[l],n);else{if(!(t instanceof a))return!1;t.parent=e,c(r,t.views)}return!0}function d(e,t,n){var r=e.el||e,i=t.el||t,o=n.el||n,u=null!=i.parentNode;n.unmounting&&n.unmounting(),u?t.remounting&&t.remounting():t.mounting&&t.mounting(),r.replaceChild(i,o),n.unmounted&&n.unmounted(),o!==n&&(n.parent=null),u?t.remounted&&t.remounted():t.mounted&&t.mounted(),i!==t&&(i.view=t,t.parent=e)}function p(e,t){var n=e.el||e,r=t.el||t;t.unmounting&&t.unmounting(),n.removeChild(r),t.unmounted&&t.unmounted(),r!==t&&(t.parent=null)}function v(e){var t=e.el||e,n=t.parentNode,r=n.view||n;e.destroying&&e.destroying(e),h(e,"destroying"),n&&p(r,e),e.destroyed&&e.destroyed(e),h(e,"destroyed")}function h(e,t,n){for(var r=e.el||e,i=r.firstChild;i;){var o=i.nextSibling,u=i.view||i,l=u[t];l&&l.call(u,n||e),h(i,t,n||e),i=o}}function c(e,t){for(var n=e.el||e,r=n.firstChild,i=0;i<t.length;i++){var o=t[i],u=o.el||o;r!==u?s(e,o,r):r=r.nextSibling}for(;r;){var l=r.nextSibling;p(e,r.view||r),r=l}}var m,g;a.prototype.update=function(e,t){var n=this.View,r=this.views,i=this.parent,o=this.key,u=this.initData,l=this.skipRender;if(t)var f=[],a=[],s=[];if(o){var d=this.lookup,p={};r.length=e.length;for(var h=0;h<e.length;h++){var m=e[h],g=m[o],y=d[g];y?t&&a.push(y):(y=new n(u,m,h),t&&f.push(y)),r[h]=p[g]=y,y.update&&y.update(m,h)}if(t)for(var g in d)p[g]||(s.push(d[g]),!l&&i&&v(d[g]));this.lookup=p}else{if(t)for(var h=e.length;h<r.length;h++){var y=r[h];!l&&i&&v(y),s.push(y)}r.length=e.length;for(var h=0;h<e.length;h++){var m=e[h],y=r[h];y?t&&a.push(y):(y=new n(u,m,h),t&&f.push(y)),y.update&&y.update(m,h),r[h]=y}}!l&&i&&c(i,r),t&&t(f,a,s)};var y=s;e.text=t,e.el=n,e.registerElement=r,e.registerAttribute=i,e.unregisterElement=o,e.unregisterAttribute=u,e.svg=l,e.list=f,e.List=a,e.mount=s,e.mountBefore=y,e.replace=d,e.unmount=p,e.destroy=v,e.notifyDown=h,e.setChildren=c});
